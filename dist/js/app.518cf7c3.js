(function(t){function e(e){for(var r,s,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],r=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var r={},n={app:0},a=[];function s(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=r,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/svel-need-for-drive/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"2d3d":function(t,e,i){t.exports=i.p+"img/map_marker.b1055d28.svg"},3304:function(t,e,i){t.exports=i.p+"img/main_map.92303bca.svg"},"3c61":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("home-menu"),i("router-view")],1)},a=[],s=i("5530"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home__menu"},[i("div",{staticClass:"home__burger"}),i("div",{staticClass:"home__burger__button",class:{home__burger__button_active:t.isMenuActive},on:{click:t.toggleBurgerMenu}},[i("span",{staticClass:"home__burger__lines"})]),i("div",{staticClass:"home__language-toggle",class:{"home__language-toggle-mobile":t.isMenuActive},on:{click:t.languageToggle}},[t._v(" "+t._s(t.lang)+" ")]),i("nav",{staticClass:"home__burger__nav",class:{home__burger__nav__active:t.isMenuActive}},[t._l(t.menuItems,(function(e){return i("p",{key:e.id,staticClass:"home__burger__menu_item",on:{click:t.toHomePage}},[t._v(" "+t._s(e.name.toUpperCase())+" ")])})),t._m(0)],2)])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home__social_icons"},[i("span",{staticClass:"icon-telegram_white"}),i("span",{staticClass:"icon-facebook_white"}),i("span",{staticClass:"icon-instagram_white"})])}],l=i("2f62"),u={name:"Menu",data:function(){return{lang:"Рус"}},computed:Object(s["a"])({},Object(l["c"])("home",["menuItems","isMenuActive"])),methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])("home",["toggleBurgerMenu"])),{},{languageToggle:function(){"Рус"===this.lang?this.lang="Eng":this.lang="Рус"},toHomePage:function(){this.$router.push("/"),this.toggleBurgerMenu()}})},d=u,m=i("2877"),p=Object(m["a"])(d,o,c,!1,null,null,null),_=p.exports,f={name:"App",components:{HomeMenu:_},data:function(){return{layout:this.$route.meta.layout,windowWidth:window.innerWidth}},mounted:function(){var t=this;this.fetchCity(),this.fetchPoints(),this.setWindowWidth(this.windowWidth),window.onresize=function(){t.windowWidth=window.innerWidth,t.setWindowWidth(t.windowWidth)}},methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])("order",["fetchCity","fetchPoints"])),Object(l["d"])("home",["setWindowWidth"]))},h=f,g=Object(m["a"])(h,n,a,!1,null,null,null),b=g.exports,v=i("8c4f"),C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main__container"},[i("home-page"),i("slider-menu")],1)},O=[],y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home__container"},[i("div",{staticClass:"home__content"},[i("header-menu"),i("main",{staticClass:"home__main"},[i("h1",{staticClass:"home__text_bold-black"},[t._v(" Каршеринг ")]),i("h2",{staticClass:"home__text_bold-green"},[t._v(" Need for drive ")]),i("p",{staticClass:"home__text_gray"},[t._v(" Поминутная аренда авто твоего города ")]),i("router-link",{staticClass:"home__button",attrs:{to:{name:"Order"}}},[t._v(" "+t._s(t.title)+" ")])],1),t._m(0)],1)])},j=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{staticClass:"home__footer"},[i("p",{staticClass:"home__text_footer"},[t._v(" © 2016-2019 «Need for drive» ")]),i("p",{staticClass:"home__text_phone"},[t._v(" 8 (495) 234-22-44 ")])])}],P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home__header"},[i("p",{staticClass:"home__text_slim-green"},[t._v(" Need for drive ")]),i("city")],1)},S=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.getCity?r("div",{staticClass:"home__header__city"},[r("img",{staticClass:"home__pic_city",attrs:{src:i("3304"),alt:"Location"}}),r("p",{staticClass:"home__text_city"},[t._v(" "+t._s(t.getCity.name)+" ")])]):t._e()},w=[],k={name:"City",computed:Object(s["a"])({},Object(l["c"])("order",["getCity"]))},D=k,R=Object(m["a"])(D,x,w,!1,null,null,null),M=R.exports,I={name:"HeaderMenu",components:{City:M}},T=I,V=Object(m["a"])(T,P,S,!1,null,null,null),F=V.exports,A={name:"HomePage",components:{HeaderMenu:F},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])("total",["getConfirmedOrder"])),{},{title:function(){return this.getConfirmedOrder?"Посмотреть заказ":"Забронировать"}})},$=A,L=Object(m["a"])($,y,j,!1,null,null,null),N=L.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("slider",{staticClass:"slider",attrs:{animation:"fade",autoplay:!0,"v-model":t.slidesLength}},[t._l(t.slides,(function(t){return i("slider-item",{key:t.id},[i("slide",{attrs:{slide:t}})],1)})),i("div",{class:{slider__overlay:t.isMenuActive}})],2)},B=[],E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slides"},[i("img",{staticClass:"slider__image",attrs:{src:t.slide.image,alt:""}}),i("div",{staticClass:"slider__content"},[i("span",{staticClass:"slider__title"},[t._v(" "+t._s(t.slide.title)+" ")]),i("p",{staticClass:"slider__description"},[t._v(" "+t._s(t.slide.desc)+" ")]),i("div",{staticClass:"slider__button",style:t.slide.background},[t._v(" "+t._s(t.slide.btnDesc)+" ")])])])},H=[],U={name:"Slide",props:{slide:Object}},G=U,z=Object(m["a"])(G,E,H,!1,null,null,null),J=z.exports,q={name:"SliderMenu",computed:Object(s["a"])({},Object(l["c"])("home",["slides","slidesLength","isMenuActive"])),components:{Slide:J}},K=q,X=Object(m["a"])(K,W,B,!1,null,null,null),Q=X.exports,Y={name:"Home",components:{HomePage:N,SliderMenu:Q}},Z=Y,tt=Object(m["a"])(Z,C,O,!1,null,null,null),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order"},[i("div",{staticClass:"order__header"},[i("header-menu")],1),i("nav",{staticClass:"order__nav"},[t.getConfirmedOrder?i("div",{staticClass:"order__finish"},[i("p",{staticClass:"order__order__number"},[t._v(" Заказ номер "+t._s(t.getConfirmedOrder.id)+" ")])]):i("div",{staticClass:"order__steps"},t._l(t.orderSteps,(function(e){return i("div",{key:e.id,staticClass:"order__step__container"},[i("button",{staticClass:"order__step",class:{order__step_active:e.isActive,order__step_disabled:e.isDisabled,order__step_finished:!e.isDisabled},attrs:{disabled:e.isDisabled},on:{click:function(i){return t.changeCurrentStep(e)}}},[t._v(" "+t._s(e.tag)+" ")]),i("div",{staticClass:"order__arrow"})])})),0)]),t._l(t.orderSteps,(function(e){return i("div",{key:e.id,staticClass:"order__component_container"},[i("keep-alive",[t.currentStep.name===e.name?i(e.name,{tag:"component"}):t._e()],1)],1)})),i("price",{directives:[{name:"show",rawName:"v-show",value:t.getWindowWidth>t.tablet,expression:"getWindowWidth > tablet"}]}),t.getWindowWidth<t.tablet?i("i",{class:{"el-icon-shopping-cart-1 order__button_price":t.isPriceValid,"el-icon-shopping-cart-1 order__button_price_error":!t.isPriceValid},on:{click:t.showPrice}}):t._e(),i("el-dialog",{attrs:{"show-close":!1,visible:t.isPriceComponentVisible}},[i("price",{attrs:{vision:t.isPriceComponentVisible},on:{close:t.closeModal}})],1),i("accept-modal"),t.getWindowWidth<t.tablet&&!t.isPriceComponentVisible?i("button-next",{attrs:{"button-view":"roundIcon"}}):t._e()],2)},rt=[],nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"location"},[i("div",{staticClass:"location__form_container"},[i("form",{staticClass:"location__form",attrs:{name:"order_form"}},[i("div",{staticClass:"location__form_block"},[i("div",{staticClass:"location__autocomplete_label"},[t._v("Город")]),i("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.searchCities,"value-key":"name",placeholder:"Введите город..."},on:{select:t.selectCity},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.city,expression:"city"}],staticClass:"form__clear",attrs:{slot:"suffix"},on:{click:t.clearIconCity},slot:"suffix"})])],1),i("div",{staticClass:"location__form_block"},[i("div",{staticClass:"location__autocomplete_label"},[t._v(" Пункт выдачи ")]),i("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.searchPoints,"value-key":"name",placeholder:"Введите пункт..."},on:{select:t.selectPoint},model:{value:t.point,callback:function(e){t.point=e},expression:"point"}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.point,expression:"point"}],staticClass:"form__clear",attrs:{slot:"suffix"},on:{click:t.clearIconPoint},slot:"suffix"})])],1)])]),i("div",{staticClass:"location__map"},[t.isMapReady&&t.getCity?i("span",{staticClass:"map__picker"},[t._v(" Выбрать на карте: ")]):t._e(),i("map-app")],1)])},at=[],st=(i("b0c0"),i("4de4"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"location__map__container"},[t.isMapReady&&t.getCity?i("yandex-map",{staticStyle:{height:"100%",width:"100%"},attrs:{settings:t.settings,coords:t.coords,zoom:t.zoom}},t._l(t.getPoints,(function(e){return i("ymap-marker",{key:e.id,attrs:{"marker-id":e.id,coords:e.coords,icon:t.markerIcon,"hint-content":e.name+",  "+e.address},on:{click:function(i){return t.markerOnCenter(e)}}})})),1):t._e(),t.loading?i("loader"):t._e()],1)}),ot=[],ct=i("f5ce"),lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"showbox"},[i("div",{staticClass:"loader"},[i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])])},ut=[],dt={name:"Loader"},mt=dt,pt=Object(m["a"])(mt,lt,ut,!1,null,null,null),_t=pt.exports,ft={name:"MapApp",components:{yandexMap:ct["a"],ymapMarker:ct["b"],Loader:_t},data:function(){return{settings:{apiKey:"aa6f4e19-0980-483f-9d50-f10ab3111593",lang:"ru_RU",coordorder:"longlat",version:"2.1"},zoom:12,markerIcon:{layout:"default#imageWithContent",imageHref:i("2d3d"),imageSize:[18,18],imageOffset:[0,0]}}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["c"])("order",["getPoints","getPoint","getCity"])),Object(l["c"])("home",["loading","isMapReady"])),{},{coords:function(){return this.getPoint?this.getPoint.coords:this.getCity.coords}}),methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])("order",["setPoint"])),{},{markerOnCenter:function(t){this.setPoint(t)}})},ht=ft,gt=(i("9de5"),Object(m["a"])(ht,st,ot,!1,null,"43338352",null)),bt=gt.exports,vt={name:"Location",components:{MapApp:bt},data:function(){return{labelCity:"Город",labelPoint:"Пункт Выдачи",filteredCities:[],toggle:!1,city:"",point:""}},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])("order",["getCities","getPoints","getCity","getPoint"])),Object(l["c"])("home",["currentStep","isMapReady"])),mounted:function(){this.$router.push({name:"Order",params:{stepName:this.currentStep.url}})},watch:{getPoint:function(t){t&&(this.point=t.name)},getCity:function(t){t&&(this.city=t.name)}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["b"])("order",["setCity","setPoint","fetchPoints"])),Object(l["d"])("order",["clearCity","clearPoint"])),{},{selectCity:function(t){this.point="",this.setCity(t)},selectPoint:function(t){t.currentCity=this.getCity,t.cities=this.getCities,this.setPoint(t)},clearIconCity:function(){this.point="",this.city="",this.clearCity()},clearIconPoint:function(){this.point="",this.clearPoint()},searchCities:function(t,e){var i=t?this.getCities.filter(this.createFilter(t)):this.getCities;e(i)},searchPoints:function(t,e){var i=t?this.getPoints.filter(this.createFilter(t)):this.getPoints;e(i)},createFilter:function(t){return function(e){return 0===e.name.toLowerCase().indexOf(t.toLowerCase())}}})},Ct=vt,Ot=Object(m["a"])(Ct,nt,at,!1,null,null,null),yt=Ot.exports,jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order__price"},[t.vision?i("h3",{staticClass:"close__btn",domProps:{innerHTML:t._s(t.closeBtn)},on:{click:function(e){return t.$emit("close")}}}):t._e(),i("div",{staticClass:"price__container"},[i("p",{staticClass:"price__title"},[t._v(" Ваш заказ: ")]),t.getPoint?i("div",{staticClass:"price__menu_step"},[i("p",{staticClass:"price__menu_step__name"},[t._v(" Пункт выдачи ")]),i("div",{staticClass:"price__dots"}),i("div",{staticClass:"price__menu_step__value"},[t._v(" "+t._s(t.getPoint.cityId.name)+", "),i("br"),t._v(" "+t._s(t.getPoint.address)+" ")])]):t._e(),t.getCar?i("div",{staticClass:"price__menu_step"},[i("p",{staticClass:"price__menu_step__name"},[t._v("Модель")]),i("div",{staticClass:"price__dots"}),i("div",{staticClass:"price__menu_step__value"},[t._v(" "+t._s(t.getCar.name)+" ")])]):t._e(),t.getColor?i("div",{staticClass:"price__menu_step"},[i("p",{staticClass:"price__menu_step__name"},[t._v("Цвет")]),i("div",{staticClass:"price__dots"}),i("div",{staticClass:"price__menu_step__value"},[t._v(" "+t._s(t.getColor)+" ")])]):t._e(),t.getRentDuration?i("div",{staticClass:"price__menu_step"},[i("p",{staticClass:"price__menu_step__name"},[t._v("Длительность аренды")]),i("div",{staticClass:"price__dots"}),i("div",{staticClass:"price__menu_step__value"},[t._v(" "+t._s(t.getRentDuration.units)+t._s(t.getRentDuration.name)+" ")])]):t._e(),t.getRate?i("div",{staticClass:"price__menu_step"},[i("p",{staticClass:"price__menu_step__name"},[t._v("Тариф")]),i("div",{staticClass:"price__dots"}),i("div",{staticClass:"price__menu_step__value"},[t._v(t._s(t.getRate.rateTypeId.name))])]):t._e(),t._l(t.getOptions,(function(e){return i("div",{key:e.name},[e.optValue?i("div",{staticClass:"price__menu_step"},[i("p",{staticClass:"price__menu_step__name"},[t._v(t._s(e.name))]),i("div",{staticClass:"price__dots"}),i("div",{staticClass:"price__menu_step__value"},[t._v("Да")])]):t._e()])})),t.getCar?i("div",{staticClass:"price__total"},[t.getPrice&&!t.isPriceValid?i("div",{staticClass:"price__total_error"},[i("b",[t._v("Цена: ")]),t._v("для Вашей машины должна быть в диапазоне от "+t._s(t.getCar.priceMin)+" ₽ до "+t._s(t.getCar.priceMax)+" ₽. "),i("br"),i("br"),t._v(" Текущая цена "+t._s(t.getPrice)+" ₽ ")]):t.getPrice&&t.isPriceValid?i("div",[i("b",[t._v("Цена: ")]),t._v(t._s(t.getPrice)+" ₽ ")]):t.getCar.priceMin===t.getCar.priceMax?i("div",[i("div",[i("b",[t._v(" Цена: ")]),t._v(" "+t._s(t.getCar.priceMin)+" ₽. ")])]):i("div",[i("div",[i("b",[t._v(" Цена: ")]),t._v(" от "+t._s(t.getCar.priceMin)+" ₽ до "+t._s(t.getCar.priceMax)+" ₽. ")])])]):t._e(),i("button-next",{attrs:{"button-view":"withText"}})],2)])},Pt=[],St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["withText"===t.buttonView?i("div",[t.getConfirmedOrder?i("button",{staticClass:"price__button price__button_cancel",on:{click:t.reset}},[t._v(" Отменить ")]):i("button",{staticClass:"price__button",class:t.buttonClass,attrs:{disabled:t.buttonActive},on:{click:t.stepOver}},[t._v(" "+t._s(t.currentStep.buttonText)+" ")])]):t._e(),"roundIcon"===t.buttonView?i("div",[t.getConfirmedOrder?i("button",{staticClass:"el-icon-error button__icon button__icon_cancel",on:{click:t.reset}}):i("button",{staticClass:"el-icon-success button__icon",class:t.iconClass,attrs:{disabled:t.buttonActive},on:{click:t.stepOver}})]):t._e()])},xt=[],wt={name:"ButtonNext",props:{buttonView:{type:String,required:!0}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["c"])("home",["currentStep","orderSteps"])),Object(l["c"])("total",["getConfirmedOrder"])),{},{buttonActive:function(){return this.currentStep.id===this.orderSteps.length?this.currentStep.isDisabled:this.orderSteps[this.currentStep.id].isDisabled},buttonClass:function(){return this.currentStep.id===this.orderSteps.length?{price__button_disabled:this.currentStep.isDisabled}:{price__button_disabled:this.orderSteps[this.currentStep.id].isDisabled}},iconClass:function(){return this.currentStep.id===this.orderSteps.length?{button__icon_disabled:this.currentStep.isDisabled}:{button__icon_disabled:this.orderSteps[this.currentStep.id].isDisabled}}}),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["d"])("home",["toNextStep","setToFalsePriceVisible","destroyIdUrl"])),Object(l["b"])("total",["clearConfirmedOrder"])),{},{stepOver:function(){this.setToFalsePriceVisible(),this.toNextStep()},reset:function(){this.clearConfirmedOrder(),this.destroyIdUrl(),this.$router.push({name:"Order",params:{stepName:this.currentStep.url}})}})},kt=wt,Dt=Object(m["a"])(kt,St,xt,!1,null,null,null),Rt=Dt.exports,Mt={name:"Price",components:{ButtonNext:Rt},props:{vision:{type:Boolean,default:!1}},data:function(){return{closeBtn:"&#10006;"}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["c"])("order",["getCity","getPoint","getPoints"])),Object(l["c"])("model",["getCar"])),Object(l["c"])("additional",["getRentDuration","getRate","getOptions","getPrice","getColor","isPriceValid"]))},It=Mt,Tt=Object(m["a"])(It,jt,Pt,!1,null,null,null),Vt=Tt.exports,Ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.isDialogVisible,width:"40%","show-close":!1,center:"",modal:!1}},[i("p",{staticClass:"dialog__text"},[t._v("Подтвердить заказ")]),i("template",{staticClass:"dialog-footer",slot:"footer"},[i("button",{staticClass:"dialog__button_confirm dialog__button_text",on:{click:t.confirm}},[t._v(" Подтвердить ")]),i("button",{staticClass:"dialog__button_close dialog__button_text",on:{click:t.close}},[t._v(" Вернуться ")])])],2)},At=[],$t={name:"AcceptModal",computed:Object(s["a"])({},Object(l["c"])("home",["isDialogVisible","isPriceComponentVisible"])),methods:Object(s["a"])(Object(s["a"])({},Object(l["d"])("home",["invertPriceVisible"])),{},{close:function(){this.isPriceComponentVisible&&this.invertPriceVisible(),this.$store.dispatch("home/setDialogStatus",!1)},confirm:function(){this.$store.dispatch("total/pushOrder"),this.isPriceComponentVisible&&this.invertPriceVisible(),this.close()}})},Lt=$t,Nt=Object(m["a"])(Lt,Ft,At,!1,null,null,null),Wt=Nt.exports,Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.getCars?i("div",{staticClass:"order__model"},[i("div",{staticClass:"model__car_class_switch"},[i("el-radio-group",{attrs:{"text-color":"green"},model:{value:t.radioSelected,callback:function(e){t.radioSelected=e},expression:"radioSelected"}},t._l(t.getCarCategory,(function(t){return i("el-radio",{key:t,attrs:{label:t}})})),1)],1),i("div",{ref:"infinite",staticClass:"model__container"},t._l(t.filteredCars,(function(e){return i("div",{key:e.id,class:{model__car_card:e.id!=t.currentCar.id,model__car_card_active:e.id==t.currentCar.id},on:{click:function(i){return t.selectCar(e)}}},[i("div",{staticClass:"model__car_name"},[t._v(" "+t._s(t.getCarName(e))+" ")]),i("div",{staticClass:"model__car_cost"},[t._v(" "+t._s(e.priceMin)+" - "+t._s(e.priceMax)+" ₽ ")]),i("img",{staticClass:"model__car_image",attrs:{src:t.getImgPath(e),alt:""},on:{error:t.defaultImage}})])})),0),i("div",{staticClass:"model__loading"},[t.loading?i("loader"):t._e()],1)]):t._e()},Et=[],Ht=(i("99af"),i("ac1f"),i("1276"),i("b012")),Ut={name:"Model",components:{Loader:_t},data:function(){return{radioSelected:"Все модели",imgDefPath:i("c168"),currentCar:{id:null},nextItem:1,items:[]}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["c"])("model",["getCars","getCarCategory","getCar","getOffset"])),Object(l["c"])("home",["currentStep","loading"])),{},{filteredCars:function(){var t=this;return"Все модели"===this.radioSelected?this.getCars:this.getCars.filter((function(e){if(null!=e.categoryId&&e.categoryId.name===t.radioSelected)return e}))}}),created:function(){this.debouncedGetCars=Object(Ht["debounce"])(this.loadMore,200)},mounted:function(){var t=this;this.$router.push({name:"Order",params:{stepName:this.currentStep.url}});var e=this.$refs.infinite;e.addEventListener("scroll",(function(i){e.scrollTop+e.clientHeight>=e.scrollHeight-1&&t.debouncedGetCars(i)})),this.loadMore()},methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])("model",["fetchModels","setCar"])),{},{getImgPath:function(t){return"".concat("https://api-factory.simbirsoft1.com").concat(t.thumbnail.path)},getCarName:function(t){return t.name.toUpperCase().split(",")[1]?t.name.toUpperCase().split(",")[1]:t.name},selectCar:function(t){this.currentCar.id=t.id,this.setCar(t)},defaultImage:function(t){t.target.src=this.imgDefPath},loadMore:function(){this.fetchModels()}})},Gt=Ut,zt=Object(m["a"])(Gt,Bt,Et,!1,null,null,null),Jt=zt.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order__additional"},[t.getRates?i("div",{staticClass:"additional__container"},[i("div",{staticClass:"additional__form_block"},[i("p",{staticClass:"additional__label"},[t._v("Цвет")]),i("el-radio-group",{attrs:{value:t.radioColorsSelected||t.getCar.colors[0]}},t._l(t.getCar.colors,(function(e){return i("el-radio",{key:e,attrs:{label:e},on:{change:function(i){return t.setStoreColor(e)}}})})),1)],1),i("div",{staticClass:"additional__form_block"},[i("p",{staticClass:"additional__label"},[t._v("Дата аренды")]),i("div",{staticClass:"additional__date_container"},[i("p",{staticClass:"additional__date_label_first"},[t._v("C")]),i("el-date-picker",{attrs:{"picker-options":t.optionsDateFrom,type:"datetime",editable:"",clearable:!0,"clear-icon":"form__clear",format:"dd-MM-yyyy HH:mm",placeholder:"Введите дату и время"},on:{change:t.setStoreDateFrom},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}})],1),i("div",{staticClass:"additional__date_container"},[i("p",{staticClass:"additional__date_label_second"},[t._v("По")]),i("el-date-picker",{attrs:{"picker-options":t.optionsDateTo,type:"datetime",editable:"",clearable:!0,"clear-icon":"form__clear",format:"dd-MM-yyyy HH:mm",placeholder:"Введите дату и время"},on:{change:t.setStoreDateTo},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}})],1)]),i("div",{staticClass:"additional__form_block"},[i("p",{staticClass:"additional__label"},[t._v("Тариф")]),i("el-radio-group",{model:{value:t.radioRateSelected,callback:function(e){t.radioRateSelected=e},expression:"radioRateSelected"}},t._l(t.getRates,(function(e){return i("el-radio",{key:e.id,attrs:{label:e.rateTypeId.name},on:{change:function(i){return t.setStoreRate(e)}}},[t._v(" "+t._s(t.rateRadioLabel(e))+" ")])})),1)],1),i("div",{staticClass:"additional__form_block"},[i("p",{staticClass:"additional__label"},[t._v("Доп услуги")]),i("el-checkbox-group",{model:{value:t.addOptions,callback:function(e){t.addOptions=e},expression:"addOptions"}},t._l(t.getOptions,(function(e){return i("el-checkbox",{key:e.name,attrs:{label:e.name},on:{change:function(e){return t.setStoreOptions()}}},[t._v(" "+t._s(t.optionCheckboxLabel(e))+" ")])})),1)],1)]):t._e()])},Kt=[],Xt={name:"Additional",data:function(){var t=this;return{radioColorsSelected:"",addOptions:[],radioRateSelected:"",dateTo:"",dateFrom:"",defaultColor:"Любой",optionsDateFrom:{disabledDate:function(t){return t<(new Date).setHours(0,0,0,0)}},optionsDateTo:{disabledDate:function(e){return e<t.dateFrom}}}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["c"])("home",["currentStep"])),Object(l["c"])("model",["getCar"])),Object(l["c"])("additional",["getRates","getOptions","getColor","getRate","getPrice","getRentDuration","isPriceValid"])),{},{rateTotal:{get:function(){return this.getPrice},set:function(t){this.setPrice(t)}},rentDuration:{get:function(){return this.getRentDuration},set:function(t){this.setRentDuration(t)}}}),mounted:function(){this.$router.push({name:"Order",params:{stepName:this.currentStep.url}}),this.setDefaultColor(this.defaultColor),this.fetchRates()},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["b"])("additional",["setPrice","fetchRates","setDateTo","setDateFrom","setColor"])),Object(l["d"])("additional",["setRentDuration","setOption","setRate","setPriceValid","setDefaultColor"])),{},{setStoreDateTo:function(){this.dateTo||(this.rentDuration=null,this.rateTotal=null),this.setDateTo(this.dateTo),this.radioRateSelected&&this.dateFrom&&this.dateTo&&this.calculateRent()},setStoreDateFrom:function(){this.dateFrom||(this.rentDuration=null,this.rateTotal=null),this.setDateFrom(this.dateFrom),this.radioRateSelected&&this.dateFrom&&this.dateTo&&this.calculateRent()},setStoreOptions:function(){this.setOption(this.addOptions),this.radioRateSelected&&this.dateFrom&&this.dateTo&&this.calculateRent()},setStoreColor:function(t){this.radioColorsSelected=t,this.setColor(t)},setStoreRate:function(t){this.setRate(t),this.radioRateSelected&&this.dateFrom&&this.dateTo&&this.calculateRent()},rateRadioLabel:function(t){return"".concat(t.rateTypeId.name,", ").concat(t.price," ₽/").concat(t.rateTypeId.unit)},optionCheckboxLabel:function(t){return"".concat(t.name,", ").concat(t.price,"₽")},calculateRent:function(){var t=this.getOptions.reduce((function(t,e){return e.optValue?t+e.price:t}),0);if(this.dateFrom&&this.dateTo){var e=this.dateTo-this.dateFrom;e<0?(this.rateTotal=null,this.rentDuration=null):this.fillableRateAndRent(e,this.getRate.rateTypeId.unit,t)}},fillableRateAndRent:function(t,e,i){switch(e){case"сутки":var r=Math.floor(t/1e3/60/60/24)||1;this.setPriceValidBoolean(r,"д",i);break;case"7 дней":var n=Math.ceil(t/1e3/60/60/24/7);this.setPriceValidBoolean(n,"нед",i);break;case"мин":var a=Math.floor(t/1e3/60);this.setPriceValidBoolean(a,"мин",i);break}},setPriceValidBoolean:function(t,e,i){this.rentDuration={units:t,name:e},this.rateTotal=t*this.getRate.price+i;var r=this.getCar.priceMin<=this.rateTotal&&this.rateTotal<=this.getCar.priceMax;this.setPriceValid(r)}})},Qt=Xt,Yt=Object(m["a"])(Qt,qt,Kt,!1,null,null,null),Zt=Yt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order__total"},[t.getConfirmedOrder?i("div",{staticClass:"total__container"},[i("div",{staticClass:"total__info"},[i("p",{staticClass:"total__info_title"},[t._v("Ваш заказ подтвержден")]),i("br"),i("p",{staticClass:"total__car_name"},[t._v(" "+t._s(t.getConfirmedOrder.carId.name)+" ")]),t.getOrder.carId.number?i("p",{staticClass:"total__car_number"},[i("span",{staticClass:"total__option_text"},[t._v(t._s(t.getConfirmedOrder.carId.number))])]):t._e(),t.getConfirmedOrder.isFullTank?i("p",{staticClass:"total__option"},[i("b",[t._v("Топливо ")]),i("span",{staticClass:"total__option_text"},[t._v("100%")])]):t._e(),i("p",{staticClass:"total__option"},[i("b",[t._v("Доступна с ")]),i("span",{staticClass:"total__option_text"},[t._v(" "+t._s(t.getDate(t.getConfirmedOrder.dateFrom.length>4?t.getConfirmedOrder.dateFrom:t.getOrder.dateFrom,t.arr,t.dateSettings))+" ")])])]),i("img",{staticClass:"total__img",attrs:{alt:"",src:t.getImgPath(t.getConfirmedOrder)},on:{error:t.defaultImage}})]):i("div",{staticClass:"total__container"},[i("div",{staticClass:"total__info"},[i("p",{staticClass:"total__car_name"},[t._v(t._s(t.getOrder.carId.name))]),t.getOrder.carId.number?i("p",{staticClass:"total__car_number"},[t._v(" "+t._s(t.getOrder.carId.number)+" ")]):t._e(),t.getOrder.isFullTank?i("p",{staticClass:"total__option"},[i("b",[t._v("Топливо ")]),i("span",{staticClass:"total__option_text"},[t._v("100%")])]):t._e(),i("p",{staticClass:"total__option"},[i("b",[t._v("Доступна с ")]),i("span",{staticClass:"total__option_text"},[t._v(" "+t._s(t.getDate(t.getOrder.dateFrom,t.arr,t.dateSettings))+" ")])])]),i("img",{staticClass:"total__img",attrs:{alt:"",src:t.getImgPath(t.getOrder)},on:{error:t.defaultImage}})])])},ee=[],ie={name:"Total",data:function(){return{arr:[],dateSettings:{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}}},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])("home",["currentStep"])),Object(l["c"])("total",["getOrder","getConfirmedOrder"])),mounted:function(){this.$router.push({name:"Order",params:{stepName:this.currentStep.url}})},methods:{getImgPath:function(t){return"".concat("https://api-factory.simbirsoft1.com").concat(t.carId.thumbnail.path)},defaultImage:function(t){t.target.src=i("c168")},getDate:function(t,e,i){return new Date(t).toLocaleString(e,i)}}},re=ie,ne=Object(m["a"])(re,te,ee,!1,null,null,null),ae=ne.exports,se={name:"Order",computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["c"])("home",["orderSteps","currentStep","getWindowWidth","tablet","isPriceComponentVisible"])),Object(l["c"])("order",["getLocationStatus"])),Object(l["c"])("model",["getModelStatus"])),Object(l["c"])("additional",["getAdditionalStatus","isPriceValid"])),Object(l["c"])("total",["getConfirmedOrder"])),components:{HeaderMenu:F,Location:yt,Price:Vt,ButtonNext:Rt,AcceptModal:Wt,Model:Jt,Additional:Zt,Total:ae},watch:{getLocationStatus:function(t){this.setStepStatus(t)},getModelStatus:function(t){this.setStepStatus(t)},getAdditionalStatus:function(t){this.setStepStatus(t)},getConfirmedOrder:function(t){t&&(this.setCurrentStep(t.id),this.$router.push({name:"Order",params:{stepName:t.id}}))}},mounted:function(){this.fetchOrderStatus()},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({showPrice:function(){this.invertPriceVisible()}},Object(l["d"])("home",["setStepStatus","setCurrentStep","invertPriceVisible"])),Object(l["b"])("total",["fetchOrderStatus"])),{},{changeCurrentStep:function(t){this.setCurrentStep(t),this.$router.push({name:"Order",params:{stepName:t.url}})},closeModal:function(){this.invertPriceVisible()}})},oe=se,ce=Object(m["a"])(oe,it,rt,!1,null,null,null),le=ce.exports;r["default"].use(v["a"]);var ue=[{path:"/",name:"Home",component:et},{path:"/order/:stepName?",name:"Order",component:le}],de=new v["a"]({mode:"history",base:"/svel-need-for-drive/",routes:ue}),me=de,pe=(i("d81d"),i("7db0"),{namespaced:!0,state:{isBurgerActive:!1,isDialogVisible:!1,isPriceComponentVisible:!1,isMapReady:!1,windowWidth:null,loading:!1,tablet:1023,currentStep:null,slides:[{id:1,image:"./images/slide1.jpg",title:"Бесплатная парковка",desc:"Оставляйте машину на платных городских парковках и разрешенных местах, не нарушая ПДД, а также в аэропортах.",btnDesc:"Подробнее",background:"background: linear-gradient(90deg,#13493F 0%, #0C7B1B 100%);"},{id:2,image:"./images/slide2.jpg",title:"Страховка",desc:"Полная страховка страховка автомобиля",btnDesc:"Подробнее",background:"background: linear-gradient(90deg,#132949 0%, #0C7B67 100%);"},{id:3,image:"./images/slide3.jpg",title:"Бензин",desc:"Полный бак на любой заправке города за наш счёт",btnDesc:"Подробнее",background:"background: linear-gradient(90deg,#493013 0%, #7B0C3B 100%);"},{id:4,image:"./images/slide4.jpg",title:"Обслуживание",desc:"Автомобиль проходит еженедельное ТО",btnDesc:"Подробнее",background:"background: linear-gradient(90deg,#281349 0%, #720C7B 100%);"}],orderSteps:[{id:1,name:"Location",url:"location",tag:"Местоположение",isActive:!0,isDisabled:!1,buttonText:"Выбрать модель"},{id:2,name:"Model",url:"model",tag:"Модель",isActive:!1,isDisabled:!0,buttonText:"Дополнительно"},{id:3,name:"Additional",url:"additional",tag:"Дополнительно",isActive:!1,isDisabled:!0,buttonText:"Итого"},{id:4,name:"Total",url:"total",tag:"Итого",isActive:!1,isDisabled:!0,buttonText:"Заказать"}],menuItems:[{id:1,name:"Парковка"},{id:2,name:"Страховка"},{id:3,name:"Бензин"},{id:4,name:"Обслуживание"}]},getters:{isMenuActive:function(t){return t.isBurgerActive},menuItems:function(t){return t.menuItems},slides:function(t){return t.slides},slidesLength:function(t){return t.slides.length},orderSteps:function(t){return t.orderSteps},currentStep:function(t){var e=t.currentStep,i=t.orderSteps;return e||i[0]},getWindowWidth:function(t){return t.windowWidth},tablet:function(t){return t.tablet},loading:function(t){return t.loading},isMapReady:function(t){return t.isMapReady},isDialogVisible:function(t){return t.isDialogVisible},isPriceComponentVisible:function(t){return t.isPriceComponentVisible}},mutations:{toggleBurgerMenu:function(t){t.isBurgerActive=!t.isBurgerActive},setWindowWidth:function(t,e){t.windowWidth=e},setLoading:function(t,e){t.loading=e},setMapStatus:function(t,e){t.isMapReady=e},setDialogStatus:function(t,e){t.isDialogVisible=e},setCurrentStep:function(t,e){"string"===typeof e?t.currentStep.url=e:t.orderSteps.map((function(i){return i.name===e.name?(i.isActive=!0,t.currentStep=i):i.isActive=!1,i}))},setStepStatus:function(t,e){!1===e.isDisabled?e.id===t.orderSteps.length?t.orderSteps[t.orderSteps.length-1].isDisabled=e.isDisabled:t.orderSteps[e.id].isDisabled=!1:t.orderSteps.map((function(t){if(t.id>e.id)return t.isDisabled=!0,t}))},toNextStep:function(t){var e;this.loading=!0,t.currentStep?e=t.currentStep.id:(e=t.orderSteps[0].id,t.currentStep=t.orderSteps[0]),e===t.orderSteps.length?t.isDialogVisible=!0:(e+=1,t.currentStep=t.orderSteps.find((function(t){if(t.id===e)return t})),t.orderSteps.map((function(e){return e.name===t.currentStep.name?e.isActive=!0:e.isActive=!1,e})))},invertPriceVisible:function(t){t.isPriceComponentVisible=!t.isPriceComponentVisible},setToFalsePriceVisible:function(t){t.isPriceComponentVisible=!1},destroyIdUrl:function(t){t.currentStep.url="total"}},actions:{toggleBurgerMenu:function(t){var e=t.commit;e("toggleBurgerMenu")},toNextStep:function(t){var e=t.commit;e("toNextStep")},setDialogStatus:function(t,e){var i=t.commit;i("setDialogStatus",e)}}}),_e=i("1da1"),fe=(i("96cf"),i("07ac"),i("d3b7"),i("3ca3"),i("ddb0"),i("bc3a")),he=i.n(fe),ge=he.a.create();ge.interceptors.request.use(function(){var t=Object(_e["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headers={"X-Api-Factory-Application-Id":"".concat("5e25c641099b810b946c5d5b"),Accept:"application/json"},e.baseURL="https://api-factory.simbirsoft1.com/api/db",t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var be=ge,ve=function(t){console.log("error: "+t)},Ce=ve,Oe={namespaced:!0,state:{cities:[],points:[],currentCity:null,currentPoint:null,isCurrentCityDefined:!0,currentCityPoints:[],id:1},getters:{getCities:function(t){return t.cities},getAllPoints:function(t){return t.points},getBooleanCurrentCityDefined:function(t){return t.isCurrentCityDefined},getPoints:function(t){return t.currentCityPoints},getCity:function(t){return t.currentCity},getPoint:function(t){return t.currentPoint},getLocationStatus:function(t){var e=!(t.currentCity&&t.currentPoint);return{id:t.id,isDisabled:e}}},mutations:{setBooleanCurrentCityDefined:function(t,e){t.isCurrentCityDefined=e},setCities:function(t,e){var i=e.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{coords:[]})}));t.cities=i},setAllPoints:function(t,e){if(t.points.length<1){var i=e.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{coords:[]})}));t.points=i}t.currentCityPoints=t.points},setCity:function(t,e){t.currentCityPoints=[],t.currentPoint=null,t.currentCity=e},setPoints:function(t,e){t.currentCityPoints=[];var i=e.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{coords:[]})}));t.currentCityPoints=i},setPoint:function(t,e){t.currentPoint=e},clearCity:function(t){t.currentCity=null,t.currentPoint=null,t.currentCityPoints=t.points},clearPoint:function(t){t.currentPoint=null}},actions:{fetchCityCoords:function(t,e){var i=this;return Object(_e["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be(ye(e.name));case 3:o=t.sent,c=o.data,l=null===(r=c.response.GeoObjectCollection)||void 0===r||null===(n=r.featureMember)||void 0===n||null===(a=n[0])||void 0===a||null===(s=a.GeoObject)||void 0===s?void 0:s.Point,e.coords=Object.values(l.pos.split(" ")),i.commit("order/setCity",e),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),Ce(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},fetchPointCoords:function(t,e){return Object(_e["a"])(regeneratorRuntime.mark((function t(){var i,r,n,a,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be(ye(e.cityId.name+e.address));case 3:s=t.sent,o=s.data,c=null===(i=o.response.GeoObjectCollection)||void 0===i||null===(r=i.featureMember)||void 0===r||null===(n=r[0])||void 0===n||null===(a=n.GeoObject)||void 0===a?void 0:a.Point,e.coords=Object.values(c.pos.split(" ")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Ce(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchCity:function(t){return Object(_e["a"])(regeneratorRuntime.mark((function e(){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(je("/city"));case 3:i=e.sent,r=i.data,t.commit("setCities",r.data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),Ce(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fetchPoints:function(t){return Object(_e["a"])(regeneratorRuntime.mark((function e(){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(je("/point"));case 3:i=e.sent,r=i.data,n=r.data.filter((function(t){return null!==t.cityId})),t.commit("setAllPoints",n),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),Ce(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},fetchCurrentCityPoints:function(t,e){return Object(_e["a"])(regeneratorRuntime.mark((function i(){var r,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,be(je("/point?cityId="+e));case 3:r=i.sent,n=r.data,t.commit("setCityPoints",n.data),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),Ce(i.t0);case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()},setCity:function(t,e){var i=this;return Object(_e["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i.commit("home/setLoading",!0),r.prev=1,r.next=4,t.dispatch("fetchCityCoords",e);case 4:return r.next=6,be(je("/point?cityId="+e.id));case 6:return n=r.sent,a=n.data,t.commit("setPoints",a.data),s=t.getters.getPoints.map((function(e){return t.dispatch("fetchPointCoords",e)})),r.next=12,Promise.all(s).then((function(){i.commit("home/setLoading",!1),i.commit("home/setMapStatus",!0)}));case 12:r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](1),i.commit("home/setLoading",!1),Ce(r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,14]])})))()},setPoint:function(t,e){var i=this;return Object(_e["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(null!==e.currentCity){r.next=13;break}return n=e.cities.filter((function(t){return t.name===e.cityId.name})),r.prev=2,r.next=5,t.dispatch("setCity",n[0]);case 5:return r.next=7,t.dispatch("fetchPointCoords",e);case 7:r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](2),i.commit("home/setLoading",!1),Ce(r.t0);case 13:return r.next=15,t.commit("setPoint",e);case 15:case"end":return r.stop()}}),r,null,[[2,9]])})))()}}},ye=function(t){return{url:"https://geocode-maps.yandex.ru/1.x/",method:"get",params:{apikey:"aa6f4e19-0980-483f-9d50-f10ab3111593",format:"json",geocode:t}}},je=function(t){return{url:t,method:"get"}},Pe={namespaced:!0,state:{order:{orderStatusId:null,cityId:{},pointId:{},carId:{},color:"",dateFrom:null,dateTo:null,rateId:{},price:null},confirmedOrder:null},getters:{getConfirmedOrder:function(t){return t.confirmedOrder},getOrder:function(t,e,i,r){return t.order.cityId=r["order/getCity"],t.order.pointId=r["order/getPoint"],t.order.carId=r["model/getCar"],t.order.color=r["additional/getColor"],t.order.dateFrom=r["additional/getDateFrom"],t.order.dateTo=r["additional/getDateTo"],t.order.rateId=r["additional/getRate"],t.order.price=r["additional/getPrice"],t.order}},mutations:{setOrderId:function(t,e){t.order.orderStatusId=e},setOptions:function(t,e){e.map((function(e){t.order[e.optName]=e.optValue}))},setOrder:function(t,e){t.confirmedOrder=e}},actions:{fetchOrderStatus:function(t){return Object(_e["a"])(regeneratorRuntime.mark((function e(){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,be({url:"/orderStatus",method:"get"});case 3:r=e.sent,n=r.data,i("setOrderId",n.data[0]);case 6:case"end":return e.stop()}}),e)})))()},setColor:function(t,e){var i=t.commit;i("setColor",e)},pushOrder:function(t){return Object(_e["a"])(regeneratorRuntime.mark((function e(){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=JSON.parse(JSON.stringify(t.state.order)),e.next=3,be({url:"/order",method:"post",data:i});case 3:r=e.sent,n=r.data,t.commit("setOrder",n.data);case 6:case"end":return e.stop()}}),e)})))()},clearConfirmedOrder:function(t){var e=t.commit;e("setOrder",null)}}},Se=(i("159b"),i("caad"),i("2532"),{namespaced:!0,state:{cars:[],car:null,category:[],id:2,offset:0},getters:{getCars:function(t){return t.cars},getOffset:function(t){return t.offset},getCar:function(t){return t.car},getModelStatus:function(t){var e=!t.car;return{id:t.id,isDisabled:e}},getCarCategory:function(t){return t.category}},mutations:{setCars:function(t,e){t.cars=e;var i=["Все модели"];e.forEach((function(t){null!==t.categoryId&&!1===i.includes(t.categoryId.name)&&i.push(t.categoryId.name)})),t.category=i},addCars:function(t,e){e.forEach((function(e){t.cars.push(e),null!==e.categoryId&&!1===t.category.includes(e.categoryId.name)&&t.category.push(e.categoryId.name)}))},setCar:function(t,e){if(e.priceMin>e.priceMax){var i=e.priceMin;e.priceMin=e.priceMax,e.priceMax=i}e.colors.includes("Любой")||e.colors.unshift("Любой"),t.car=e},setOffset:function(t,e){t.offset=e}},actions:{fetchModels:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function i(){var r,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(t.getters.getOffset<85)){i.next=16;break}return e.commit("home/setLoading",!0),i.prev=2,i.next=5,be({url:"/car?offset="+t.getters.getOffset+"&limit=10",method:"get"});case 5:r=i.sent,n=r.data,0!==t.getters.getOffset?t.commit("addCars",n.data):t.commit("setCars",n.data),t.commit("setOffset",t.getters.getOffset+10),e.commit("home/setLoading",!1),i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](2),e.commit("home/setLoading",!1),Ce(i.t0);case 16:case"end":return i.stop()}}),i,null,[[2,12]])})))()},setCar:function(t,e){var i=t.commit;i("setCar",e)}}}),xe={namespaced:!0,state:{addOptions:[{name:"Полный бак",price:500,optName:"isFullTank",optValue:!1},{name:"Детское кресло",price:200,optName:"isNeedChildChair",optValue:!1},{name:"Правый руль",price:1600,optName:"isRightWheel",optValue:!1}],rates:[],rate:null,price:null,rentDuration:null,dateTo:null,dateFrom:null,color:null,id:3,isPriceValid:!0},getters:{isPriceValid:function(t){return t.isPriceValid},getDateTo:function(t){return t.dateTo},getDateFrom:function(t){return t.dateFrom},getColor:function(t){return t.color},getRates:function(t){return t.rates},getOptions:function(t){return t.addOptions},getRate:function(t){return t.rate},getPrice:function(t){return t.price},getRentDuration:function(t){return t.rentDuration},getAdditionalStatus:function(t){var e=!(t.rate&&t.price&&t.rentDuration&&t.dateFrom&&t.dateTo&&t.color&&t.isPriceValid);return{id:t.id,isDisabled:e}}},mutations:{setPriceValid:function(t,e){t.isPriceValid=e},setDefaultColor:function(t,e){t.color=e},setColor:function(t,e){t.color=e},setDateFrom:function(t,e){t.dateFrom=e},setDateTo:function(t,e){t.dateTo=e},setRentDuration:function(t,e){t.rentDuration=e},setPrice:function(t,e){t.price=e},setRates:function(t,e){t.rates=e},setRate:function(t,e){t.rate=e},setOption:function(t,e){t.addOptions.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{optValue:e.includes(t.name)?t.optValue=!0:t.optValue=!1})})),this.commit("total/setOptions",t.addOptions)}},actions:{fetchRates:function(t){return Object(_e["a"])(regeneratorRuntime.mark((function e(){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.prev=1,e.next=4,be({url:"/rate",method:"get"});case 4:r=e.sent,n=r.data,i("setRates",n.data),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Ce(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},setRate:function(t,e){var i=t.commit;i("setRate",e)},setPrice:function(t,e){var i=t.commit;i("setPrice",e)},setDateFrom:function(t,e){var i=t.commit;i("setDateFrom",e)},setDateTo:function(t,e){var i=t.commit;i("setDateTo",e)},setColor:function(t,e){var i=t.commit;i("setColor",e)}}};r["default"].use(l["a"]);var we=new l["a"].Store({modules:{home:pe,order:Oe,total:Pe,model:Se,additional:xe}}),ke=(i("3c61"),i("99b6"),i("cd9a")),De=i("dccd"),Re=i.n(De),Me=i("5c96"),Ie=i.n(Me),Te=i("487a"),Ve=i.n(Te);r["default"].use(ke["a"]),r["default"].use(Ie.a,{locale:Re.a}),r["default"].use(Ve.a),r["default"].config.productionTip=!1,new r["default"]({router:me,store:we,render:function(t){return t(b)}}).$mount("#app")},"99b6":function(t,e,i){},"9de5":function(t,e,i){"use strict";i("e0c7")},c168:function(t,e,i){t.exports=i.p+"img/default_car.a91ab7fb.jpg"},e0c7:function(t,e,i){}});
//# sourceMappingURL=app.518cf7c3.js.map